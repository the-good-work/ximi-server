# Readme

## Prerequisites

1. Docker
2. Run on ubuntu/debian, not compatible with Mac OS due to networking

## Deploying

> n.b. see if step 1 can be replaced by a shell script to scaffold just the config files

1. First, run `docker run --rm -it -v$PWD:/output livekit/generate` to generate the LiveKit config
2. Build the docker image with `docker build . -t ximi-server`
3. Add the image as a service to the generated `docker-compose.yaml`:

```yaml
ximi-server:
  image: ximi-server:latest
```

4. move these files generated by `livekit/generate` to the root of the project (they are already in `.gitignore`)

   1. docker-compose.yaml
   1. livekit.yaml
   1. redis.conf
   1. caddy.yaml

5. edit `redis.conf` to specify a password
6. edit `livekit.yaml` to provide the same redis password
7. automate domain names for `redis.<your domain name>` and `server.<your server name>` with Caddy on `caddy.yaml`
8. provide the url to redis in `.env`

or develop against a local instance of redis
